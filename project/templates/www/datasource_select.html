{% extends "base.html" %}

{% load i18n %}

{% block html_title %}{% trans "Create new Backup" %}{% endblock %}

{% block content %}
  <hgroup class="hgroup">
    <h1>{% trans "Create new Backup" %}</h1> 
    <h2>{% trans "Select Data-Source" %}</h2>
  </hgroup>
  
  <ul class="add-backup-list">
    <li class="active-backup-step">
      <h3>{% trans "1. Data-Source" %}</h3>
      <div class="add-backup-content">
        <h4>{% trans "Step 1: select data-source" %}</h4>
        <form action="." method="POST" class="form-datasource">{% csrf_token %}
          {{ form.non_field_errors }}

          <div class="datasource-group">
            {% for item in form.datasource %}
              <label class="g32-icon-before-{{ item.choice_value|slugify }}">{{ item.tag }} {{ item.choice_label }}</label>
            {% endfor %}
            {% if form.datasource.errors %}
              {{ form.datasource.errors }}
            {% endif %}
          </div>

          <button type="submit" class="btn-next">{% trans "next" %}</button>
        </form>
      </div>
    </li>
    <li>
      <h3>{% trans "2. Data-Target" %}</h3>
      <div class="add-backup-content">
        <h4>{% trans "Step 2: select data-target" %}</h4>        
      </div>
    </li>
    <li>
      <h3>{% trans "3. Backup-Options" %}</h3>
      <div class="add-backup-content">
        <h4>{% trans "Step 3: select backup-options" %}</h4>
      </div>
    </li>
  </ul>
{% endblock content %}


{% block additional_js %}
<script>
$(function(){
  $('.form-datasource').on('click', 'label', function() {
      $(this).find('input[type="radio"]').attr("checked", "checked");
      $('.form-datasource').submit();
  });
})
</script>
{% endblock %}
